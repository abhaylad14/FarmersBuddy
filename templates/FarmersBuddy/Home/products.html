{% extends './base.html' %} {% block title %}Products{% endblock %} 
{% block body %}
<link
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
  rel="stylesheet"
  integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
  crossorigin="anonymous"
/>
<script
  src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
  crossorigin="anonymous"
></script>
<div class="container mb-4">
    <form method="post">
        <div class="row col-md-6 mx-auto">
            <div class="col-sm-10">
                <input type="search" name="txtsearch" id="txtsearch" class="form-control" placeholder="Type your keywords here">
            </div>
            <div class="col">
                <button type="submit" class="btn btn-success"><i class="fas fa-search"></i></button>
            </div>
        </div>
    </form>
{% for cat in categories %}
    <h5>{{cat}}</h5>
    <hr>
  <div class="row row-cols-1 row-cols-md-4 g-4">
  {% for item in products %}
  {% if item.ProductCat.CategoryName == cat %}
    <div class="col mb-4">
      <div class="card h-100">
        <img src="{{item.Image.url}}" height="200" width="200" class="card-img-top" alt="..." />
        <div class="card-body">
          <h5 class="card-title"> <a class="text-decoration-none" href="{% url 'viewproduct' %}?pid={{item.id}}"> {{item.Name}}</a></h5>
          <p class="card-text">
            {{item.Desc}}
          </p>
        </div>
        <div class="card-footer">
        <div class="row">
            <span class="col">Price: â‚¹{{item.Price}}</span>
            <span class="col text-right">
              <form method="post">{% csrf_token %}
                <input type="hidden" name="pid" value="{{item.id}}">
                <button class="btn btn-success btn-sm"><i class="fas fa-shopping-cart"></i> Add to cart</button>
              </form>
            </span>
        </div>
        </div>
      </div>
    </div>
    {% endif %} 
    {% endfor %}
  </div>
  {% endfor %}
</div>
{% endblock %}
